!function(e){function t(s){if(n[s])return n[s].exports;var i=n[s]={i:s,l:!1,exports:{}};return e[s].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,s){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:s})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=9)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={main:"main",board:"board",bg:"bg",menu:"menu",timer:"timer",modal:"modal",menuElems:{logo:"logo_container",newGame:"new_game_container",timer:"timer_container",skinChange:"skin_change_container",highscores:"highscores_container"},timerInner:{m1:"m1",m2:"m2",colon:"colon",s1:"s1",s2:"s2",display:"display",pause:"pause",replay:"replay"},modalInternals:{container:"modal_container",scoresBtn:"modal_scores_btn",newGameBtn:"modal_new_btn",sizes:"modal_sizes",skins:"modal_skins"},gameFinishedModal:"game_finished_modal",gameFinishedModalInternals:{container:"game_finished_container",message:"finished_message",textInput:"name_text_input",restart:"game_finished_restart",newGame:"game_finished_new_game"},highscores:"highscores_modal",highscoresInternals:{container:"highscores_modal_container"}}},function(e,t,n){"use strict";function s(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),a=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"div";i(this,e),this.me=document.createElement(n),this.state={},this.render=this.render.bind(this),this.update=this.update.bind(this),this._setState=this._setState.bind(this),this._insert=this._insert.bind(this),this._applyStylesFromObj=this._applyStylesFromObj.bind(this),this.initChildren=this.initChildren.bind(this),this.renderChildren=this.renderChildren.bind(this),void 0!==t&&this._setState(t),this.me.id=this.state.id}return r(e,[{key:"_insert",value:function(){var e=this.state.parent.querySelector("#"+this.me.id);e?this.state.parent.replaceChild(this.me,e):this.state.parent.appendChild(this.me)}},{key:"_setState",value:function(e){for(var t in e)e.hasOwnProperty(t)&&(this.state[t]=e[t])}},{key:"update",value:function(e){this._setState(e),this.render()}},{key:"_applyStylesFromObj",value:function(e){var t;(t=this.me.classList).add.apply(t,s(Object.values(e)))}},{key:"renderChildren",value:function(){if(!this.children)return!1;for(var e in this.children)this.children[e].render()}},{key:"initChildren",value:function(){}},{key:"render",value:function(){this._insert()}}]),e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={NO_SELECTION:0,ONE_SELECTED:1,TWO_SELECTED:2,WIN:3,LOSE:4,NEW_GAME:5,GAME_FINISHED:6}},function(e,t,n){e.exports={root:"src-assets-styles-___root__root___Ki7LY"}},function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),o=n(1),c=s(o),u=n(11),d=s(u),h=n(0),_=s(h),f=n(12),m=s(f),p=n(18),y=s(p),g=n(20),b=s(g),v=n(22),k=s(v),w=n(24),S=s(w),O=n(26),C=s(O),E=function(e){function t(e,n){i(this,t);var s=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return s.children=s.initChildren(),s._applyStylesFromObj(d.default),window.onclick=function(e){e.target==s.children.modal.me&&s.children.modal.hide(),e.target==s.children.finished.me&&s.children.finished.hide(),e.target==s.children.highscores.me&&s.children.highscores.hide()},s}return a(t,e),l(t,[{key:"boardProps",value:function(){return{parent:this.me,id:_.default.board,gameState:this.state.gameState,layout:this.state.layout,handlers:{onCardClick:this.state.handlers.onCardClick}}}},{key:"updateChildren",value:function(){this.children.menu.update(this.menuProps()),this.children.board.update(this.boardProps()),this.children.modal.update(this.modalProps()),this.children.timer.update({parent:this.children.menu.children.timer.me,id:_.default.timer}),this.children.highscores.update({scores:[]})}},{key:"menuProps",value:function(){return{parent:this.me,id:_.default.menu,handlers:{changeSkin:this.state.handlers.changeSkin,newGameMenuClick:this.state.handlers.newGameMenuClick,showHighscores:this.state.handlers.showHighscores},skinsList:this.state.layout.skins,currentSkin:this.state.layout.currentSkin}}},{key:"modalProps",value:function(){return{parent:this.me,id:_.default.modal,layout:this.state.layout,handlers:{changeSkin:this.state.handlers.changeSkin,changeSize:this.state.handlers.changeSize,newGameClick:this.state.handlers.newGameClick,showHighscores:this.state.handlers.showHighscores}}}},{key:"initChildren",value:function(){var e=this,t={board:new m.default(this.boardProps()),menu:new y.default(this.menuProps()),modal:new k.default(this.modalProps()),finished:new S.default({id:_.default.gameFinishedModal,parent:this.me,handlers:{addHighscore:function(){e.state.handlers.addHighscore()},restartGame:function(){e.state.handlers.restartGame()},newGame:function(){e.state.handlers.newGameMenuClick()}}}),highscores:new C.default({id:_.default.highscores,parent:this.me,size:this.state.layout.currentSize})};return t.timer=new b.default({parent:t.menu.children.timer.me,id:_.default.timer,handlers:{restartGame:this.state.handlers.restartGame,pauseGame:this.state.handlers.pauseGame}}),t}},{key:"clearBgSkin",value:function(){var e=this;Object.values(this.state.layout.skins).forEach(function(t){e.me.classList.contains(t.bg)&&e.me.classList.remove(t.bg)})}},{key:"render",value:function(){this.clearBgSkin(),this._applyStylesFromObj({bg:this.state.layout.currentSkin.bg}),this.updateChildren(),this.children.highscores.hide(),this._insert()}}]),t}(c.default);t.default=E},function(e,t,n){e.exports={card:"src-assets-styles-___card__card___2PgSJ",hide:"src-assets-styles-___card__hide___3zMZN",front:"src-assets-styles-___card__front___2ioEt",back:"src-assets-styles-___card__back___Xe0t5"}},function(e,t,n){e.exports={board0:"src-assets-styles-___sizes__board0___1BK1n",board5:"src-assets-styles-___sizes__board5___1z43N",board10:"src-assets-styles-___sizes__board10___2LuiO",card5:"src-assets-styles-___sizes__card5___1u4wJ",board12:"src-assets-styles-___sizes__board12___1KPB8",card8:"src-assets-styles-___sizes__card8___3M_8i",card10:"src-assets-styles-___sizes__card10___3Dt5L",card12:"src-assets-styles-___sizes__card12___1to5n",board8:"src-assets-styles-___sizes__board8___3O0J8"}},function(e,t,n){e.exports={menu:"src-assets-styles-___menu__menu___2rWdH"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={PAUSED:0,GOING:1}},function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}var i=n(3),r=s(i),a=n(10),l=s(a),o=n(4),c=(s(o),n(0));s(c);document.addEventListener("DOMContentLoaded",function(){var e=document.getElementById("root");e.className=r.default.root,new l.default(e).start()})},function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),l=n(4),o=s(l),c=n(28),u=s(c),d=n(32),h=s(d),_=n(2),f=s(_),m=n(0),p=s(m),y=n(8),g=s(y),b=n(33),v=s(b),k=function(){function e(t){r(this,e),this.cardsSelected=[],this.parent=t,this.storage=new v.default,this.layout=this._GET_DEFAULT_LAYOUT(),this.gameLogic=new h.default(2*this.layout.currentSize),this.gameView=new o.default(this.getGameViewProps()),this.gameView.children.modal.show(),this.gameView.children.highscores.hide()}return a(e,[{key:"start",value:function(){this.gameView.render()}},{key:"_GET_GAMEVIEW_RENDER_PROPS",value:function(){return{parent:this.parent,id:p.default.main}}},{key:"_GET_GAME_STATE",value:function(){return{cardsSelected:this.cardsSelected.slice(),deck:this.gameLogic.deck.slice(),gameState:this.gameLogic.state}}},{key:"getGameViewProps",value:function(){var e=this._GET_GAMEVIEW_RENDER_PROPS();return{id:e.id,parent:e.parent,gameState:this._GET_GAME_STATE(),layout:this.layout,handlers:this.getHandlers()}}},{key:"_resetGame",value:function(){this.cardsSelected=[],this.gameLogic=new h.default(2*this.layout.currentSize),this.gameView.children.board.resetIcons(),this.gameView.update(this.getGameViewProps()),this.gameView.children.timer.reset(),this.gameView.children.timer.start(),this.gameView.children.board.setClickable()}},{key:"_GET_DEFAULT_LAYOUT",value:function(){var e=[5,8,10,12];return{skins:u.default,currentSkin:u.default.classic,sizes:e,currentSize:0}}},{key:"getHandlers",value:function(){var e=this;return{newGameClick:function(){e.newGameClickHandler()},onCardClick:function(t){e.cardClickHandler(t)},changeSkin:function(t){e.changeSkinHandler(t)},changeSize:function(t){e.changeSizeHandler(t)},newGameMenuClick:function(){e.newGameMenuClickHandler()},restartGame:function(){e.gameRestartHandler()},pauseGame:function(){e.gamePauseHandler()},showHighscores:function(){e.highScoresClickHandler()},addHighscore:function(){e.addHighscore()}}}},{key:"_pauseGame",value:function(){var e=this.gameView.children.timer,t=this.gameView.children.board;e.stop(),t.setUnclickable(),console.log("in pause game "+this.gameLogic.state)}},{key:"_resumeGame",value:function(){var e=this.gameView.children.timer,t=this.gameView.children.board;e.start(),t.setClickable()}},{key:"gamePauseHandler",value:function(){if(0!==this.layout.currentSize&&this.gameLogic.state!==f.default.GAME_FINISHED){var e=this.gameView.children.timer.children.pause.me;switch(this.gameView.children.timer.timerStatus){case g.default.GOING:e.innerHTML="&#9656",this._pauseGame();break;case g.default.PAUSED:e.innerHTML="&#10074;&#10074;",this._resumeGame()}}}},{key:"highScoresClickHandler",value:function(){this.gameView.children.highscores.update({scores:this.storage.getAll(),size:this.gameView.state.layout.currentSize}),this.gameView.children.highscores.show()}},{key:"gameRestartHandler",value:function(){0!==this.layout.currentSize&&this._resetGame()}},{key:"newGameMenuClickHandler",value:function(){this.gameView.children.modal.show()}},{key:"newGameClickHandler",value:function(){0!==this.gameView.children.modal.size&&(this.gameView.children.modal.hide(),this.layout.currentSize=this.gameView.children.modal.size,this._resetGame())}},{key:"cardClickHandler",value:function(e){var t,n=this;if(-1===this.cardsSelected.indexOf(e)){var s=this.cardsSelected.length,r={gameState:{}};switch(s){case 0:this.cardsSelected.push(e),r.gameState.gameState=f.default.ONE_SELECTED,r.gameState.cardsSelected=this.cardsSelected.slice(),this.gameView.children.board.updateCard(r);break;case 1:if(this.cardsSelected.push(e),r.gameState.cardsSelected=this.cardsSelected.slice(),(t=this.gameLogic).makeMove.apply(t,i(this.cardsSelected)),r.gameState.gameState=this.gameLogic.state,this.cardsSelected=[],this.gameView.children.board.updateCard(r),this.gameLogic.state==f.default.GAME_FINISHED){this.gameView.children.timer.stop();var a=this.gameLogic.calculateScore(this.gameView.children.timer.time.getTime());setTimeout(function(){n.gameView.children.finished.update({score:a,size:n.gameView.state.layout.currentSize}),n.gameView.children.finished.show()},1e3)}}}}},{key:"addHighscore",value:function(){var e=this.gameView.children.finished.state.score,t=this.gameView.state.layout.currentSize,n=this.gameView.children.finished.children.container.children.textInput.me.value;this.storage.addOne({player:n,score:e,size:t})}},{key:"changeSkinHandler",value:function(e){this.layout.currentSkin=e;var t=this.gameView.children.timer.children.pause.me.innerHTML,n=this.gameView.children.board._isClickable();this.gameView.update({layout:this.layout,gameState:this._GET_GAME_STATE()}),this.gameView.children.timer.children.pause.me.innerHTML=t,n?this.gameView.children.board.setClickable():this.gameView.children.board.setUnclickable()}},{key:"changeSizeHandler",value:function(e){this.gameView.children.modal.size=e,this.gameView.children.modal.render()}}]),e}();t.default=k},function(e,t,n){e.exports={main:"src-assets-styles-___main__main___3fAkv"}},function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){var n=[],s=!0,i=!1,r=void 0;try{for(var a,l=e[Symbol.iterator]();!(s=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);s=!0);}catch(e){i=!0,r=e}finally{try{!s&&l.return&&l.return()}finally{if(i)throw r}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),u=n(1),d=s(u),h=n(13),_=s(h),f=n(14),m=s(f),p=n(2),y=s(p),g=n(17),b=s(g),v=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._setState(e),n.cardsDOM=n._createCardsDOM(),n.cardFaces=(0,b.default)(),n}return l(t,e),c(t,[{key:"resetIcons",value:function(){this.cardFaces=(0,b.default)()}},{key:"openCard",value:function(e){var t=m.default.animations.spin;this.cardsDOM[e].classList.add(t)}},{key:"closeCard",value:function(e){var t=m.default.animations.spin,n=m.default.animations.spin_back,s=this.cardsDOM[e];s.classList.remove(t),s.classList.add(n)}},{key:"leaveTheCardAlone",value:function(e){var t=m.default.animations.spin_back;this.cardsDOM[e].classList.remove(t)}},{key:"hideCard",value:function(e){var t=m.default.card.hide;this.cardsDOM[e].classList.add(t)}},{key:"onWinningMove",value:function(){var e=this,t=o(this.state.gameState.cardsSelected,2),n=t[0],s=t[1];this.openCard(s),this.renderCard(s),this.state.gameState.cardsSelected=[],setTimeout(function(){e.hideCard(n),e.hideCard(s)},100)}},{key:"updateCard",value:function(e){var t=this;this._setState(e);var n=this.state.gameState.gameState,s=null,i=null;switch(n){case y.default.NO_SELECTION:break;case y.default.ONE_SELECTED:s=this.state.gameState.cardsSelected[0];this.cardsDOM[s].classList.add(m.default.animations.spin),this.renderCard(s);break;case y.default.GAME_FINISHED:case y.default.WIN:this.onWinningMove();break;case y.default.LOSE:var r=o(this.state.gameState.cardsSelected,2);s=r[0],i=r[1],this.openCard(i),this.renderCard(i),this.state.gameState.cardsSelected=[],setTimeout(function(){t.closeCard(s),t.closeCard(i),t.renderCard(s),t.renderCard(i)},500),setTimeout(function(){t.leaveTheCardAlone(s),t.leaveTheCardAlone(i)},650)}}},{key:"_isClickable",value:function(){return!this.me.classList.contains(m.default.board.noclick)}},{key:"setClickable",value:function(){this._isClickable()||this.me.classList.remove(m.default.board.noclick)}},{key:"setUnclickable",value:function(){this._isClickable()&&this.me.classList.add(m.default.board.noclick)}},{key:"renderCard",value:function(e){var t=this.cardsDOM[e];null===t.value&&this.hideCard(e),-1!==this.state.gameState.cardsSelected.indexOf(e)&&this.openCard(e);var n=this.me.querySelector("#"+t.id);n?this.me.replaceChild(t,n):this.me.appendChild(t)}},{key:"createCard",value:function(e){var t=this;return(0,_.default)({id:"c"+e,icon:this.cardFaces[this.state.gameState.deck[e]],value:this.state.gameState.deck[e],onClick:function(){t.state.handlers.onCardClick(e)},skin:this.state.layout.currentSkin,size:this.state.layout.currentSize})}},{key:"_createCardsDOM",value:function(){for(;this.me.hasChildNodes();)this.me.removeChild(this.me.lastChild);for(var e=[],t=0;t<this.state.gameState.deck.length;t++)e.push(this.createCard(t));return e}},{key:"_getClassesNeeded",value:function(){var e="board"+this.state.layout.currentSize;return[m.default.board.board,m.default.sizes[e],this.state.layout.currentSkin.board]}},{key:"render",value:function(){var e;this.me.className="",(e=this.me.classList).add.apply(e,i(this._getClassesNeeded())),this.cardsDOM=this._createCardsDOM();for(var t=0;t<this.state.gameState.deck.length;t++)this.renderCard(t);this._insert(this.me)}}]),t}(d.default);t.default=v},function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function i(e){var t="card"+e.size,n=document.createElement("div"),s=document.createElement("div"),i=document.createElement("div");return s.className=a.default.front,i.classList.add(e.skin.back,a.default.back),s.innerHTML="<p>"+e.icon+"</p>",n.appendChild(s),n.appendChild(i),n.onclick=function(){e.onClick()},n.id=e.id,n.value=e.value,n.classList.add(a.default.card,o.default[t]),n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var r=n(5),a=s(r),l=n(6),o=s(l)},function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(15),r=s(i),a=n(3),l=s(a),o=n(7),c=s(o),u=n(6),d=s(u),h=n(16),_=s(h),f=n(5),m=s(f);t.default={board:r.default,card:m.default,root:l.default,menu:c.default,sizes:d.default,animations:_.default}},function(e,t,n){e.exports={noclick:"src-assets-styles-___board__noclick___1NT9q",board:"src-assets-styles-___board__board___kXPNU"}},function(e,t,n){e.exports={spin:"src-assets-styles-___animations__spin___3Ujyu",cardSpin:"src-assets-styles-___animations__cardSpin___2FvRR",spin_back:"src-assets-styles-___animations__spin_back___3O4GB"}},function(e,t,n){"use strict";function s(){return i.sort(function(e,t){return.5-Math.random()})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var i=["&#127803;","&#9885;","&#128031;","&#128171;","&#10050;","&#8984;","&#128082;","&#14;","&#0;","&#9763;","&#9762;","&#128014;","&#2039;","&#127746;","&#9774;","&#9883;","&#128685;","&#128700;","&#9882;","&#127807;","&#9731;","&#127826;"]},function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),o=n(1),c=s(o),u=n(7),d=s(u),h=n(0),_=s(h),f=n(19),m=s(f),p=function(e){function t(e,n){i(this,t);var s=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return s._applyStylesFromObj({menu:d.default.menu}),s.children=s.initChildren(),s}return a(t,e),l(t,[{key:"updateChildren",value:function(){}},{key:"createDropdown",value:function(){var e=this,t=document.createElement("div");return t.className=m.default.dropdown,Object.keys(this.state.skinsList).forEach(function(n){var s=document.createElement("div");s.innerHTML=n,s.onclick=function(){e.state.handlers.changeSkin(e.state.skinsList[n])},t.appendChild(s)}),t}},{key:"initChildren",value:function(){var e={logo:new c.default({id:_.default.menuElems.logo,parent:this.me}),newGame:new c.default({id:_.default.menuElems.newGame,parent:this.me}),timer:new c.default({id:_.default.menuElems.timer,parent:this.me}),skinChange:new c.default({id:_.default.menuElems.skinChange,parent:this.me}),highscores:new c.default({id:_.default.menuElems.highscores,parent:this.me})};e.highscores.me.onclick=this.state.handlers.showHighscores,e.newGame.me.innerHTML="NEW GAME",e.newGame.me.onclick=this.state.handlers.newGameMenuClick,e.highscores.me.innerHTML="HIGH SCORES",e.skinChange.me.innerHTML="LAYOUT";for(var t in e)e[t]._applyStylesFromObj({name:m.default[_.default.menuElems[t]]});return e}},{key:"render",value:function(){this.renderChildren(),this.children.skinChange.me.appendChild(this.createDropdown()),this._insert()}}]),t}(c.default);t.default=p},function(e,t,n){e.exports={new_game_container:"src-assets-styles-___menu_internals__new_game_container___tL4vC",skin_change_container:"src-assets-styles-___menu_internals__skin_change_container___1i6Zz",highscores_container:"src-assets-styles-___menu_internals__highscores_container___1oB81",logo_container:"src-assets-styles-___menu_internals__logo_container___2xWRm",timer_container:"src-assets-styles-___menu_internals__timer_container___hVaye",dropdown:"src-assets-styles-___menu_internals__dropdown___nvLhS"}},function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),o=n(1),c=s(o),u=n(21),d=s(u),h=n(0),_=s(h),f=n(8),m=s(f),p=function(e){function t(e,n){i(this,t);var s=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return s._applyStylesFromObj({timer:d.default.timer}),s.children=s.initChildren(),s.screen=s.getTimerStructure(),s.time=new Date,s.reset(),s.timer=null,s.timerStatus=m.default.PAUSED,s}return a(t,e),l(t,[{key:"getTimerStructure",value:function(){return{display:this.children.display.me,m1:this.children.display.children.m1.me,m2:this.children.display.children.m2.me,s1:this.children.display.children.s1.me,s2:this.children.display.children.s2.me}}},{key:"drawTime",value:function(){this.screen.s2.innerHTML=this.time.getSeconds()%10,this.screen.s1.innerHTML=Math.floor(this.time.getSeconds()/10),this.screen.m2.innerHTML=this.time.getMinutes()%10,this.screen.m1.innerHTML=Math.floor(this.time.getMinutes()/10)}},{key:"updateTime",value:function(){this.time.setTime(this.time.getTime()+1e3),this.drawTime(this.time)}},{key:"start",value:function(){var e=this;clearInterval(this.timer),this.timer=setInterval(function(){e.updateTime()},1e3),this.timerStatus=m.default.GOING}},{key:"stop",value:function(){clearInterval(this.timer),this.timerStatus=m.default.PAUSED}},{key:"reset",value:function(){this.time.setTime(0),this.drawTime(),this.timerStatus=m.default.PAUSED}},{key:"initChildren",value:function(){var e=this,t=new c.default({id:_.default.timerInner.display,parent:this.me}),n=new c.default({id:_.default.timerInner.pause,parent:this.me}),s=new c.default({id:_.default.timerInner.replay,parent:this.me}),i={m1:new c.default({id:_.default.timerInner.m1,parent:t.me}),m2:new c.default({id:_.default.timerInner.m2,parent:t.me}),colon:new c.default({id:_.default.timerInner.colon,parent:t.me}),s1:new c.default({id:_.default.timerInner.s1,parent:t.me}),s2:new c.default({id:_.default.timerInner.s2,parent:t.me})};i.colon.me.innerHTML=":";for(var r in i)i[r]._applyStylesFromObj({col:d.default.col,name:d.default[r]});t.children=i,t.renderChildren();var a={pause:n,display:t,replay:s};a.replay.me.innerHTML="&#8635;",a.replay.me.onclick=function(){e.state.handlers.restartGame()},a.pause.me.innerHTML="&#10074;&#10074;",a.pause.me.onclick=function(){e.state.handlers.pauseGame()};for(var l in a)a[l]._applyStylesFromObj({col:d.default.timer_part,name:d.default[l]});return a}},{key:"render",value:function(){this.children.pause.me.innerHTML="&#10074;&#10074;",this.renderChildren(),this._insert()}}]),t}(c.default);t.default=p},function(e,t,n){e.exports={timer:"src-assets-styles-___timer__timer___1Taiu",timer_part:"src-assets-styles-___timer__timer_part___20wUQ",pause:"src-assets-styles-___timer__pause___x3qDN",replay:"src-assets-styles-___timer__replay___ijObh",display:"src-assets-styles-___timer__display___198cO",col:"src-assets-styles-___timer__col___1L8-8",m1:"src-assets-styles-___timer__m1___31JP8",m2:"src-assets-styles-___timer__m2___38yOS",colon:"src-assets-styles-___timer__colon___1jUxV",s1:"src-assets-styles-___timer__s1___zI22V",s2:"src-assets-styles-___timer__s2___2xhla"}},function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),o=n(1),c=s(o),u=n(23),d=s(u),h=n(0),_=s(h),f=function(e){function t(e,n){i(this,t);var s=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return s._applyStylesFromObj({layout:d.default.modal_bg}),s.children=s.initChildren(),s.size=5,s}return a(t,e),l(t,[{key:"addBtnList",value:function(e){var t=this,n=null;e.children={},e.children.sizes=[],e.children.skins=[],e.me.id===_.default.modalInternals.sizes?n=this.state.layout.sizes.map(function(n){var s=document.createElement("div");return s.innerHTML=n+" PAIRS",s.value=n,s.onclick=function(){t.state.handlers.changeSize(s.value)},e.children.sizes.push(s),s}):e.me.id===_.default.modalInternals.skins&&(n=Object.keys(this.state.layout.skins).map(function(n){var s=document.createElement("div");return s.innerHTML=n,s.value=n,s.onclick=function(){t.state.handlers.changeSkin(t.state.layout.skins[n])},e.children.skins.push(s),s})),n.forEach(function(t){e.me.appendChild(t)})}},{key:"initChildren",value:function(){var e=new c.default({id:_.default.modalInternals.container,parent:this.me});e._applyStylesFromObj({layout:d.default.modal_container});var t={sizes:new c.default({id:_.default.modalInternals.sizes,parent:e.me,size:this.state.layout.currentSize}),skins:new c.default({id:_.default.modalInternals.skins,parent:e.me,skinsList:this.state.layout.skins}),scoresBtn:new c.default({id:_.default.modalInternals.scoresBtn,parent:e.me}),newGameBtn:new c.default({id:_.default.modalInternals.newGameBtn,parent:e.me})};return t.sizes._applyStylesFromObj({layout:d.default.sizes}),t.skins._applyStylesFromObj({layout:d.default.skins}),t.sizes.me.innerHTML="SIZES<br><br>",t.skins.me.innerHTML="SKINS<br><br>",this.addBtnList(t.sizes),this.addBtnList(t.skins),t.scoresBtn._applyStylesFromObj({layout:d.default.highscores}),t.newGameBtn._applyStylesFromObj({layout:d.default.new_btn}),t.newGameBtn.me.onclick=this.state.handlers.newGameClick,t.newGameBtn.me.innerHTML="START",t.scoresBtn.me.innerHTML="HIGH SCORES",t.scoresBtn.me.onclick=this.state.handlers.showHighscores,e.children=t,e.renderChildren(),{container:e}}},{key:"show",value:function(){var e=d.default.hider;this.me.classList.contains(e)&&this.me.classList.remove(e)}},{key:"hide",value:function(){var e=d.default.hider;this.me.classList.contains(e)||this.me.classList.add(e)}},{key:"_setHighlight",value:function(){var e=this,t=this.children.container.children.sizes.children.sizes,n=this.children.container.children.skins.children.skins;t.forEach(function(n,s){n.value==e.size?n.classList.contains(d.default.highlight)||t[s].classList.add(d.default.highlight):n.classList.contains(d.default.highlight)&&t[s].classList.remove(d.default.highlight)}),n.forEach(function(t,s){e.state.layout.skins[t.value]==e.state.layout.currentSkin?t.classList.contains(d.default.highlight)||n[s].classList.add(d.default.highlight):t.classList.contains(d.default.highlight)&&n[s].classList.remove(d.default.highlight)})}},{key:"render",value:function(){this.renderChildren(),this._setHighlight(),this._insert()}}]),t}(c.default);t.default=f},function(e,t,n){e.exports={modal_bg:"src-assets-styles-___new_game__modal_bg___37HCD",modal_container:"src-assets-styles-___new_game__modal_container___D9D7O",hider:"src-assets-styles-___new_game__hider___2Fnh6",skins:"src-assets-styles-___new_game__skins___2H0VQ",sizes:"src-assets-styles-___new_game__sizes___18DVk",highscores:"src-assets-styles-___new_game__highscores___2ACIz",new_btn:"src-assets-styles-___new_game__new_btn___2St37",highlight:"src-assets-styles-___new_game__highlight___3Ipfr"}},function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),o=n(1),c=s(o),u=n(25),d=s(u),h=n(0),_=s(h),f=function(e){function t(e,n){i(this,t);var s=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return s._applyStylesFromObj({bg:d.default.modal_bg}),s.children=s.initChildren(),s}return a(t,e),l(t,[{key:"initChildren",value:function(){var e=this,t=new c.default({parent:this.me,id:_.default.gameFinishedModalInternals.container});t._applyStylesFromObj({container:d.default.container});var n={message:new c.default({id:_.default.gameFinishedModalInternals.message,parent:t.me}),textInput:new c.default({id:_.default.gameFinishedModalInternals.textInput,parent:t.me},"INPUT"),restart:new c.default({id:_.default.gameFinishedModalInternals.restart,parent:t.me}),newGame:new c.default({id:_.default.gameFinishedModalInternals.newGame,parent:t.me})};return n.textInput.me.setAttribute("type","text"),n.textInput.me.value="anon",n.textInput.me.size=13,n.textInput.me.maxLength=12,n.textInput.me.onfocus=function(){n.textInput.me.value=""},n.restart._applyStylesFromObj({restart:d.default.restart}),n.newGame._applyStylesFromObj({newGame:d.default.new_game}),n.restart.me.onclick=function(){e.hide(),e.state.handlers.restartGame()},n.newGame.me.onclick=function(){e.hide(),e.state.handlers.newGame()},n.restart.me.innerHTML="&#8635;",n.newGame.me.innerHTML="NEW GAME",n.textInput._applyStylesFromObj({input:d.default.text_field}),n.message._applyStylesFromObj({message:d.default.message}),t.children=n,t.renderChildren(),{container:t}}},{key:"drawOutput",value:function(){this.children.container.children.message.me.innerHTML="Your score:  \n"+this.state.score}},{key:"show",value:function(){var e=d.default.hider;this.me.classList.contains(e)&&this.me.classList.remove(e)}},{key:"hide",value:function(){var e=d.default.hider;this.me.classList.contains(e)||this.me.classList.add(e),this.state.handlers.addHighscore()}},{key:"render",value:function(){this.renderChildren(),this.drawOutput(),this._insert()}}]),t}(c.default);t.default=f},function(e,t,n){e.exports={modal_bg:"src-assets-styles-___game_finished__modal_bg___3cIbZ",container:"src-assets-styles-___game_finished__container___Y7rFO",restart:"src-assets-styles-___game_finished__restart___3akig",new_game:"src-assets-styles-___game_finished__new_game___1ndwT",text_field:"src-assets-styles-___game_finished__text_field___Do54r",message:"src-assets-styles-___game_finished__message___3gDWY",hider:"src-assets-styles-___game_finished__hider___31L-O"}},function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),o=n(1),c=s(o),u=n(27),d=s(u),h=n(0),_=s(h),f=function(e){function t(e,n){i(this,t);var s=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return s._applyStylesFromObj({layout:d.default.modal_bg}),s.children=s.initChildren(),s}return a(t,e),l(t,[{key:"show",value:function(){var e=d.default.hider;this.me.classList.contains(e)&&this.me.classList.remove(e)}},{key:"hide",value:function(){var e=d.default.hider;this.me.classList.contains(e)||this.me.classList.add(e)}},{key:"createScoreEntries",value:function(){var e='<div class="'+d.default.entry+'">\n                        <div>&#8470;</div>\n                        <div>PLAYER</div>\n                        <div>SCORE</div>\n                        <div>LVL</div>\n                    </div>',t=this.state.scores.map(function(e,t){return'<div class="'+d.default.entry+'">\n                        <div>'+(t+1)+"</div>\n                        <div>"+e.player+"</div>\n                        <div>"+e.score+"</div>\n                        <div>"+e.size+"</div>\n                    </div>"});return t.unshift(e),t}},{key:"initChildren",value:function(){var e=new c.default({parent:this.me,id:_.default.highscoresInternals.container});return e._applyStylesFromObj({container:d.default.container}),e.render(),{container:e}}},{key:"render",value:function(){var e=this;this.children.container.me.innerHTML="TOP 20",this.createScoreEntries().forEach(function(t){e.children.container.me.innerHTML+=t}),this._insert()}}]),t}(c.default);t.default=f},function(e,t,n){e.exports={modal_bg:"src-assets-styles-___highscores__modal_bg___3NhFl",hider:"src-assets-styles-___highscores__hider___KQkqx",entry:"src-assets-styles-___highscores__entry___2MrEr",container:"src-assets-styles-___highscores__container___S4Znd"}},function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(29),r=s(i),a=n(30),l=s(a),o=n(31),c=s(o);t.default={classic:c.default,style1:r.default,style2:l.default}},function(e,t,n){e.exports={bg:"src-assets-styles-skins-___style1__bg___sLnET",board:"src-assets-styles-skins-___style1__board___3AMqY",back:"src-assets-styles-skins-___style1__back___38YrQ"}},function(e,t,n){e.exports={bg:"src-assets-styles-skins-___style2__bg___16tS3",board:"src-assets-styles-skins-___style2__board___aVLbn",back:"src-assets-styles-skins-___style2__back___1_8rh"}},function(e,t,n){e.exports={bg:"src-assets-styles-skins-___def__bg___Hdmqf",board:"src-assets-styles-skins-___def__board___1pwJk",back:"src-assets-styles-skins-___def__back___bx6S_"}},function(e,t,n){"use strict";function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),r=n(2),a=function(e){return e&&e.__esModule?e:{default:e}}(r),l=function(){function e(t){s(this,e),this.deckSize=t,this.deck=this._initDeck(),this.state=a.default.NEW_GAME,this.mistakes=0}return i(e,[{key:"getProbability",value:function(){var e=this.deckSize;return e/this.getCombinations(e)}},{key:"getCombinations",value:function(e){for(var t=0,n=1;n<e;n++)t+=n;return t}},{key:"_initDeck",value:function(){for(var e=this.deckSize,t=new Array(e).fill(null),n=0,s=0;n<e;n+=2,s++)t[n]=s,t[n+1]=s;return t.sort(function(e,t){return.5-Math.random()}),t.sort(function(e,t){return.5-Math.random()}),t}},{key:"calculateScore",value:function(e){var t=this.getProbability();return e/=1e3,Math.round(1e7/(t*t*((e+3*this.mistakes)*this.getCombinations(24))))}},{key:"makeMove",value:function(e,t){null!==this.deck[e]&&this.deck[e]==this.deck[t]&&e!==t?(this.deck[t]=this.deck[e]=null,this.deck.every(function(e){return null===e})?this.state=a.default.GAME_FINISHED:this.state=a.default.WIN):(this.state=a.default.LOSE,this.mistakes++)}}]),e}();t.default=l},function(e,t,n){"use strict";function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),r=function(){function e(){s(this,e),this.scores=[],localStorage.getItem("scores")?this.scores=JSON.parse(localStorage.getItem("scores")):localStorage.setItem("scores",JSON.stringify(this.scores))}return i(e,[{key:"getAll",value:function(){return this.scores=JSON.parse(localStorage.getItem("scores")),this.scores}},{key:"addOne",value:function(e){var t=this.scores.slice();t.push(e),t.length>0&&(t.sort(function(e,t){return t.score-e.score}),t.length>20&&t.pop()),this.scores=t,localStorage.setItem("scores",JSON.stringify(this.scores))}}]),e}();t.default=r}]);
//# sourceMappingURL=bundle.js.map